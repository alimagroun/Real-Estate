<header>
  <h1>Profile</h1>
</header>

<div class="container" *ngIf="currentUser" class="profile-container">
  <div class="form-section">
    <form>
      Full Name
      <div class="form-field">
        <mat-form-field class="custom-form-field">
          <input matInput [formControl]="nameFormControl" [value]="currentUser.name" maxlength="50">
          <mat-error *ngIf="nameFormControl.hasError('required')">This field is <strong>required</strong></mat-error>  
          <mat-error *ngIf="nameFormControl.errors?.['maxlength']">Please enter a full name with a maximum of 50 characters.</mat-error>   
        </mat-form-field>
      </div>
  Email Address
      <div class="form-field">
        <mat-form-field class="custom-form-field">
          <input matInput [formControl]="emailFormControl" [value]="currentUser.email" type="email" maxlength="320">
          <mat-error *ngIf="emailFormControl.hasError('email')">Please enter a valid email address.</mat-error>
          <mat-error *ngIf="emailFormControl.hasError('required')">Email is <strong>required</strong>.</mat-error>
          <mat-error *ngIf="emailFormControl.hasError('emailTaken')">Email is already taken.</mat-error>
        </mat-form-field>
      </div>
  Contact Number
      <div class="form-field">
        <mat-form-field class="custom-form-field">
          <input matInput [formControl]="contactNumberFormControl" [value]="currentUser.contactNumber" maxlength="20">
          <mat-error *ngIf="contactNumberFormControl.hasError('required')">Mobile phone number is <strong>required</strong>.</mat-error>
          <mat-error *ngIf="contactNumberFormControl.errors?.['maxlength']">Please enter a valid phone number.</mat-error>
        </mat-form-field>
      </div>
      <div class="form-actions">
      <button mat-raised-button color="primary" (click)="updateUser()">Update</button>
      </div>
    </form>
  </div>

  <div class="form-section">
    <form [formGroup]="updatePasswordForm" (ngSubmit)="updatePassword()">
      <div class="form-field">
      <mat-form-field class="custom-form-field">
        <mat-label>Current Password</mat-label>
        <input matInput formControlName="currentPassword" type="password" />
        <mat-error *ngIf="updatePasswordForm.get('currentPassword')?.hasError('invalidPassword')">
         The password does not match. re-enter your password.
        </mat-error>
      </mat-form-field>
  </div>
  <div class="form-field">
      <mat-form-field class="custom-form-field">
        <mat-label>New Password</mat-label>
        <input matInput formControlName="newPassword" type="password" />
      </mat-form-field>
  </div>
  <div class="form-actions">
      <button mat-raised-button color="primary" type="submit">Update Password</button>
      </div>
    </form>
  </div>
</div>
